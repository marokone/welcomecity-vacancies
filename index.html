<!DOCTYPE html>
<html>
<head>
    <title>Welcome City –í–∞–∫–∞–Ω—Å–∏–∏</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; }
        .loader { text-align: center; padding: 40px; }
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #048868; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .error { background: #ffe6e6; color: #d63031; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .success { background: #e8f5e8; color: #2d5016; padding: 20px; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome City - –í–∞–∫–∞–Ω—Å–∏–∏</h1>
        
        <div id="vacancy-app-loader" class="loader">
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª–∏...</p>
        </div>
        
        <div id="vacancy-app-container" style="display: none;"></div>
        
        <div id="status" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; font-family: monospace; font-size: 14px;"></div>
    </div>

    <script>
        // –í–°–¢–†–ê–ò–í–ê–ï–ú –í–°–ï –ú–û–î–£–õ–ò –ü–†–Ø–ú–û –í HTML —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ø—É—Ç—è–º–∏
        
        // === –ú–û–î–£–õ–¨ 1: config.js ===
        const configModule = {
            async init() {
                console.log('‚öôÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...');
                
                window.VACANCY_CONFIG = {
                    supabase: {
                        url: 'https://vhbiezamhpyejdqvvwuj.supabase.co',
                        key: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoYmllemFtaHB5ZWpkcXZ2d3VqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2Njc0MDgsImV4cCI6MjA3NzI0MzQwOH0.13h_XJ7kQFtuCjavkOXN9TzXNF2X4jX5-rcNCFiFqO0'
                    },
                    cache: {
                        ttl: 5 * 60 * 1000,
                        key: 'wc-vacancies-data'
                    },
                    selectors: {
                        container: '#vacancy-app-container',
                        loader: '#vacancy-app-loader'
                    }
                };
                
                console.log('‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                return window.VACANCY_CONFIG;
            }
        };

        // === –ú–û–î–£–õ–¨ 2: utils.js ===
        const utilsModule = {
            async init() {
                console.log('üõ†Ô∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç...');
                
                window.vacancyUtils = {
                    createElement: (tag, classes, content) => {
                        const element = document.createElement(tag);
                        if (classes) element.className = classes;
                        if (content) element.innerHTML = content;
                        return element;
                    },
                    
                    showNotification: (message, type = 'info') => {
                        const notification = document.createElement('div');
                        notification.style.cssText = `
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            padding: 12px 20px;
                            border-radius: 8px;
                            background: ${type === 'error' ? '#e74c3c' : '#048868'};
                            color: white;
                            z-index: 10000;
                        `;
                        notification.textContent = message;
                        document.body.appendChild(notification);
                        
                        setTimeout(() => notification.remove(), 3000);
                    }
                };
                
                console.log('‚úÖ –£—Ç–∏–ª–∏—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
            }
        };

        // === –ú–û–î–£–õ–¨ 3: supabase-client.js ===
        const supabaseModule = {
            async init() {
                console.log('üîå –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase...');
                
                if (!window.VACANCY_CONFIG) {
                    throw new Error('–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                }
                
                const { supabase } = window.VACANCY_CONFIG;
                
                if (!window.supabase) {
                    throw new Error('Supabase JS library not loaded');
                }
                
                window.supabaseClient = window.supabase.createClient(supabase.url, supabase.key);
                console.log('‚úÖ Supabase –∫–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω');
                return window.supabaseClient;
            }
        };

        // === –ú–û–î–£–õ–¨ 4: ui-components.js ===
        const uiModule = {
            async init() {
                console.log('üé® –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...');
                
                const styles = `
                    <style>
                    .vacancy-container {
                        max-width: 1200px;
                        margin: 0 auto;
                        padding: 40px 20px;
                        font-family: Arial, sans-serif;
                    }
                    .search-wrapper {
                        margin: 40px 0 20px;
                    }
                    #vacancy-search {
                        width: 100%;
                        padding: 20px;
                        font-size: 18px;
                        border: 2px solid #e0e0e0;
                        border-radius: 8px;
                    }
                    .filters-row {
                        display: flex;
                        gap: 16px;
                        margin: 30px 0;
                    }
                    .custom-select {
                        flex: 1;
                        position: relative;
                    }
                    .select-header {
                        padding: 12px 16px;
                        border: 2px solid #e0e0e0;
                        border-radius: 8px;
                        cursor: pointer;
                    }
                    .vacancy-card {
                        padding: 20px;
                        border: 1px solid #e0e0e0;
                        border-radius: 8px;
                        margin-bottom: 12px;
                        cursor: pointer;
                    }
                    .vacancy-card:hover {
                        border-color: #048868;
                    }
                    </style>
                `;
                
                document.head.insertAdjacentHTML('beforeend', styles);
                console.log('‚úÖ –°—Ç–∏–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
            }
        };

        // === –ú–û–î–£–õ–¨ 5: filter-system.js ===
        const filterModule = {
            async init() {
                console.log('üéõÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤...');
                
                const container = document.getElementById('vacancy-app-container');
                if (container) {
                    container.innerHTML = `
                        <div class="vacancy-container">
                            <h2 style="color: #048868;">‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!</h2>
                            <p>–°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.</p>
                            
                            <div class="search-wrapper">
                                <input type="text" id="vacancy-search" placeholder="–ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π..." style="width: 100%; padding: 15px; font-size: 16px; border: 2px solid #e0e0e0; border-radius: 8px;">
                            </div>
                            
                            <div class="filters-row">
                                <div class="custom-select">
                                    <div class="select-header">
                                        <span>–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</span>
                                    </div>
                                </div>
                                <div class="custom-select">
                                    <div class="select-header">
                                        <span>–í—Å–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="vacancy-results">
                                <div class="vacancy-card">
                                    <h3>–¢–µ—Å—Ç–æ–≤–∞—è –≤–∞–∫–∞–Ω—Å–∏—è 1</h3>
                                    <p>–ü—Ä–æ–µ–∫—Ç –ê ‚Äî –û—Ç–¥–µ–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</p>
                                </div>
                                <div class="vacancy-card">
                                    <h3>–¢–µ—Å—Ç–æ–≤–∞—è –≤–∞–∫–∞–Ω—Å–∏—è 2</h3>
                                    <p>–ü—Ä–æ–µ–∫—Ç –ë ‚Äî –û—Ç–¥–µ–ª –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞</p>
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                const searchInput = document.getElementById('vacancy-search');
                if (searchInput) {
                    searchInput.addEventListener('input', function(e) {
                        console.log('–ü–æ–∏—Å–∫:', e.target.value);
                    });
                }
                
                const cards = document.querySelectorAll('.vacancy-card');
                cards.forEach(card => {
                    card.addEventListener('click', function() {
                        alert('–ö–ª–∏–∫ –ø–æ –≤–∞–∫–∞–Ω—Å–∏–∏: ' + this.querySelector('h3').textContent);
                    });
                });
                
                console.log('‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            }
        };

        // === –ú–û–î–£–õ–¨ 6: main.js ===
        const mainModule = {
            async init() {
                console.log('üéØ –ì–ª–∞–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
                
                // –°–∫—Ä—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
                const loader = document.getElementById('vacancy-app-loader');
                const container = document.getElementById('vacancy-app-container');
                
                if (loader) loader.style.display = 'none';
                if (container) container.style.display = 'block';
                
                console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
            }
        };

        // === –ó–ê–ì–†–£–ó–ß–ò–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ===
        const status = document.getElementById('status');
        
        function updateStatus(msg, isError = false) {
            const color = isError ? 'red' : 'green';
            status.innerHTML += `<div style="color: ${color}">${new Date().toLocaleTimeString()}: ${msg}</div>`;
            console.log(msg);
        }

        async function loadApp() {
            updateStatus('üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
            
            const modules = [
                { name: 'config.js', module: configModule },
                { name: 'utils.js', module: utilsModule },
                { name: 'supabase-client.js', module: supabaseModule },
                { name: 'ui-components.js', module: uiModule },
                { name: 'filter-system.js', module: filterModule },
                { name: 'main.js', module: mainModule }
            ];
            
            for (const { name, module } of modules) {
                try {
                    updateStatus(`üì¶ –ó–∞–≥—Ä—É–∑–∫–∞: ${name}`);
                    await module.init();
                    updateStatus(`‚úÖ –£—Å–ø–µ—à–Ω–æ: ${name}`);
                } catch (error) {
                    updateStatus(`‚ùå –û—à–∏–±–∫–∞: ${name} - ${error.message}`, true);
                    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
                }
            }
            
            updateStatus('üéâ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ.');
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadApp);
        } else {
            loadApp();
        }
    </script>
</body>
</html>
